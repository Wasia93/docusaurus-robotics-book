"use strict";(globalThis.webpackChunkrobotics_book=globalThis.webpackChunkrobotics_book||[]).push([[3221],{1175:(n,e,i)=>{i.r(e),i.d(e,{assets:()=>d,contentTitle:()=>t,default:()=>h,frontMatter:()=>l,metadata:()=>s,toc:()=>a});const s=JSON.parse('{"id":"module2-simulation/urdf-sdf","title":"URDF and SDF Formats","description":"Understanding robot description formats for simulation","source":"@site/docs/module2-simulation/urdf-sdf.md","sourceDirName":"module2-simulation","slug":"/module2-simulation/urdf-sdf","permalink":"/docusaurus-robotics-book/ps/module2-simulation/urdf-sdf","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedAt":1764862720000,"sidebarPosition":5,"frontMatter":{"sidebar_position":5,"title":"URDF and SDF Formats","description":"Understanding robot description formats for simulation","keywords":["URDF","SDF","robot description","Gazebo","file formats"]},"sidebar":"tutorialSidebar","previous":{"title":"Sensor Simulation","permalink":"/docusaurus-robotics-book/ps/module2-simulation/sensor-simulation"},"next":{"title":"NVIDIA Isaac Sim","permalink":"/docusaurus-robotics-book/ps/module3-isaac/isaac-sim"}}');var r=i(4848),o=i(8453);const l={sidebar_position:5,title:"URDF and SDF Formats",description:"Understanding robot description formats for simulation",keywords:["URDF","SDF","robot description","Gazebo","file formats"]},t="URDF and SDF: Robot Description Formats",d={},a=[{value:"Introduction",id:"introduction",level:2},{value:"Quick Comparison",id:"quick-comparison",level:3},{value:"URDF: ROS Robot Description",id:"urdf-ros-robot-description",level:2},{value:"When to Use URDF",id:"when-to-use-urdf",level:3},{value:"URDF Structure",id:"urdf-structure",level:3},{value:"URDF Limitations",id:"urdf-limitations",level:3},{value:"XACRO: Extending URDF",id:"xacro-extending-urdf",level:3},{value:"Gazebo Extensions in URDF",id:"gazebo-extensions-in-urdf",level:3},{value:"SDF: Gazebo&#39;s Native Format",id:"sdf-gazebos-native-format",level:2},{value:"When to Use SDF",id:"when-to-use-sdf",level:3},{value:"SDF Structure",id:"sdf-structure",level:3},{value:"SDF Advantages Over URDF",id:"sdf-advantages-over-urdf",level:3},{value:"SDF for Worlds",id:"sdf-for-worlds",level:3},{value:"Converting Between Formats",id:"converting-between-formats",level:2},{value:"URDF to SDF",id:"urdf-to-sdf",level:3},{value:"SDF to URDF",id:"sdf-to-urdf",level:3},{value:"Best Practices",id:"best-practices",level:2},{value:"Workflow Recommendation",id:"workflow-recommendation",level:3},{value:"File Organization",id:"file-organization",level:3},{value:"Gazebo Model Path",id:"gazebo-model-path",level:3},{value:"Common Pitfalls",id:"common-pitfalls",level:2},{value:"1. Mixing Formats Incorrectly",id:"1-mixing-formats-incorrectly",level:3},{value:"2. Forgetting XACRO Namespace",id:"2-forgetting-xacro-namespace",level:3},{value:"3. Incorrect File Paths",id:"3-incorrect-file-paths",level:3},{value:"Summary Table",id:"summary-table",level:2},{value:"Next Steps",id:"next-steps",level:2},{value:"Lab Exercise",id:"lab-exercise",level:2}];function c(n){const e={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,o.R)(),...n.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(e.header,{children:(0,r.jsx)(e.h1,{id:"urdf-and-sdf-robot-description-formats",children:"URDF and SDF: Robot Description Formats"})}),"\n",(0,r.jsx)(e.h2,{id:"introduction",children:"Introduction"}),"\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"Robot description formats"})," define the structure, appearance, and physics of robots in simulation and ROS 2. Two main formats:"]}),"\n",(0,r.jsxs)(e.ol,{children:["\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"URDF"})," (Unified Robot Description Format): ROS standard"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"SDF"})," (Simulation Description Format): Gazebo native"]}),"\n"]}),"\n",(0,r.jsx)(e.h3,{id:"quick-comparison",children:"Quick Comparison"}),"\n",(0,r.jsxs)(e.table,{children:[(0,r.jsx)(e.thead,{children:(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.th,{children:"Feature"}),(0,r.jsx)(e.th,{children:"URDF"}),(0,r.jsx)(e.th,{children:"SDF"})]})}),(0,r.jsxs)(e.tbody,{children:[(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:(0,r.jsx)(e.strong,{children:"Primary Use"})}),(0,r.jsx)(e.td,{children:"ROS/ROS 2"}),(0,r.jsx)(e.td,{children:"Gazebo simulation"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:(0,r.jsx)(e.strong,{children:"Format"})}),(0,r.jsx)(e.td,{children:"XML"}),(0,r.jsx)(e.td,{children:"XML"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:(0,r.jsx)(e.strong,{children:"Tree Structure"})}),(0,r.jsx)(e.td,{children:"Tree only (single robot)"}),(0,r.jsx)(e.td,{children:"Graph (multiple models, relationships)"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:(0,r.jsx)(e.strong,{children:"Physics"})}),(0,r.jsx)(e.td,{children:"Basic"}),(0,r.jsx)(e.td,{children:"Advanced"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:(0,r.jsx)(e.strong,{children:"Sensors"})}),(0,r.jsx)(e.td,{children:"Limited"}),(0,r.jsx)(e.td,{children:"Rich plugin ecosystem"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:(0,r.jsx)(e.strong,{children:"Worlds"})}),(0,r.jsx)(e.td,{children:"No"}),(0,r.jsx)(e.td,{children:"Yes (environments)"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:(0,r.jsx)(e.strong,{children:"Macros"})}),(0,r.jsx)(e.td,{children:"XACRO"}),(0,r.jsx)(e.td,{children:"Direct support"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:(0,r.jsx)(e.strong,{children:"ROS Integration"})}),(0,r.jsx)(e.td,{children:"Native"}),(0,r.jsx)(e.td,{children:"Via plugins"})]})]})]}),"\n",(0,r.jsx)(e.h2,{id:"urdf-ros-robot-description",children:"URDF: ROS Robot Description"}),"\n",(0,r.jsx)(e.h3,{id:"when-to-use-urdf",children:"When to Use URDF"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"ROS 2 applications"}),": Native format"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Single robot"}),": Tree hierarchy sufficient"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Compatibility"}),": Most ROS packages expect URDF"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Community"}),": Large ecosystem, many examples"]}),"\n"]}),"\n",(0,r.jsx)(e.h3,{id:"urdf-structure",children:"URDF Structure"}),"\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"Key elements"}),":"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-xml",children:'<robot name="my_robot">\n  <link name="...">        \x3c!-- Rigid body --\x3e\n    <visual>...</visual>    \x3c!-- How it looks --\x3e\n    <collision>...</collision>  \x3c!-- Physics shape --\x3e\n    <inertial>...</inertial>   \x3c!-- Mass, inertia --\x3e\n  </link>\n\n  <joint name="..." type="...">  \x3c!-- Connection --\x3e\n    <parent link="..."/>\n    <child link="..."/>\n    <origin xyz="..." rpy="..."/>\n    <axis xyz="..."/>\n    <limit lower="..." upper="..."/>\n  </joint>\n</robot>\n'})}),"\n",(0,r.jsx)(e.h3,{id:"urdf-limitations",children:"URDF Limitations"}),"\n",(0,r.jsxs)(e.ol,{children:["\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"No closed loops"}),": Tree structure only (no parallel kinematics)"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Single robot"}),": Can't define multiple robots in one file"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"No world"}),": Can't describe environment (ground, obstacles)"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Limited sensors"}),": Must use Gazebo extensions (",(0,r.jsx)(e.code,{children:"<gazebo>"})," tags)"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"No materials library"}),": Colors/textures defined inline"]}),"\n"]}),"\n",(0,r.jsx)(e.h3,{id:"xacro-extending-urdf",children:"XACRO: Extending URDF"}),"\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"XACRO (XML Macros)"})," adds:"]}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["Variables (",(0,r.jsx)(e.code,{children:"<xacro:property>"}),")"]}),"\n",(0,r.jsxs)(e.li,{children:["Macros (",(0,r.jsx)(e.code,{children:"<xacro:macro>"}),")"]}),"\n",(0,r.jsxs)(e.li,{children:["Math expressions (",(0,r.jsx)(e.code,{children:"${property * 2}"}),")"]}),"\n",(0,r.jsxs)(e.li,{children:["Conditional logic (",(0,r.jsx)(e.code,{children:"<xacro:if>"}),")"]}),"\n",(0,r.jsxs)(e.li,{children:["File inclusion (",(0,r.jsx)(e.code,{children:"<xacro:include>"}),")"]}),"\n"]}),"\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"Example"}),":"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-xml",children:'<?xml version="1.0"?>\n<robot name="my_robot" xmlns:xacro="http://www.ros.org/wiki/xacro">\n\n  \x3c!-- Properties (variables) --\x3e\n  <xacro:property name="wheel_radius" value="0.1"/>\n  <xacro:property name="wheel_width" value="0.05"/>\n\n  \x3c!-- Macro for wheel --\x3e\n  <xacro:macro name="wheel" params="prefix reflect">\n    <link name="${prefix}_wheel">\n      <visual>\n        <geometry>\n          <cylinder radius="${wheel_radius}" length="${wheel_width}"/>\n        </geometry>\n        <material name="black">\n          <color rgba="0 0 0 1"/>\n        </material>\n      </visual>\n      <collision>\n        <geometry>\n          <cylinder radius="${wheel_radius}" length="${wheel_width}"/>\n        </geometry>\n      </collision>\n      <inertial>\n        <mass value="0.5"/>\n        <inertia\n          ixx="${0.5 * wheel_radius * wheel_radius / 2}"\n          ixy="0" ixz="0"\n          iyy="${0.5 * wheel_radius * wheel_radius / 2}"\n          iyz="0"\n          izz="${0.5 * wheel_radius * wheel_radius / 2}"/>\n      </inertial>\n    </link>\n\n    <joint name="${prefix}_wheel_joint" type="continuous">\n      <parent link="base_link"/>\n      <child link="${prefix}_wheel"/>\n      <origin xyz="0 ${reflect * 0.2} 0" rpy="0 0 0"/>\n      <axis xyz="0 1 0"/>\n    </joint>\n  </xacro:macro>\n\n  \x3c!-- Base link --\x3e\n  <link name="base_link">\n    \x3c!-- ... --\x3e\n  </link>\n\n  \x3c!-- Instantiate wheels --\x3e\n  <xacro:wheel prefix="left" reflect="1"/>\n  <xacro:wheel prefix="right" reflect="-1"/>\n\n</robot>\n'})}),"\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"Convert to URDF"}),":"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-bash",children:"xacro robot.urdf.xacro > robot.urdf\n"})}),"\n",(0,r.jsx)(e.h3,{id:"gazebo-extensions-in-urdf",children:"Gazebo Extensions in URDF"}),"\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"Add Gazebo-specific features"})," with ",(0,r.jsx)(e.code,{children:"<gazebo>"})," tags:"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-xml",children:'<robot>\n  \x3c!-- URDF links and joints --\x3e\n  <link name="base_link">...</link>\n\n  \x3c!-- Gazebo extension --\x3e\n  <gazebo reference="base_link">\n    \x3c!-- Material (color, texture) --\x3e\n    <material>Gazebo/Red</material>\n\n    \x3c!-- Physics properties --\x3e\n    <mu1>0.5</mu1>  \x3c!-- Friction coefficient 1 --\x3e\n    <mu2>0.5</mu2>  \x3c!-- Friction coefficient 2 --\x3e\n    <kp>1000000.0</kp>  \x3c!-- Contact stiffness --\x3e\n    <kd>1.0</kd>  \x3c!-- Contact damping --\x3e\n  </gazebo>\n\n  \x3c!-- Gazebo sensor plugin --\x3e\n  <gazebo reference="camera_link">\n    <sensor type="camera" name="camera">\n      <update_rate>30.0</update_rate>\n      <camera>\n        <horizontal_fov>1.3962634</horizontal_fov>\n        <image>\n          <width>800</width>\n          <height>600</height>\n        </image>\n        <clip>\n          <near>0.02</near>\n          <far>300</far>\n        </clip>\n      </camera>\n      <plugin name="camera_controller" filename="libgazebo_ros_camera.so">\n        <ros><namespace>/camera</namespace></ros>\n        <camera_name>camera</camera_name>\n        <frame_name>camera_link</frame_name>\n      </plugin>\n    </sensor>\n  </gazebo>\n\n  \x3c!-- Gazebo controller plugin --\x3e\n  <gazebo>\n    <plugin name="gazebo_ros_control" filename="libgazebo_ros_control.so">\n      <robotNamespace>/</robotNamespace>\n    </plugin>\n  </gazebo>\n</robot>\n'})}),"\n",(0,r.jsx)(e.h2,{id:"sdf-gazebos-native-format",children:"SDF: Gazebo's Native Format"}),"\n",(0,r.jsx)(e.h3,{id:"when-to-use-sdf",children:"When to Use SDF"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Gazebo-first"}),": Primary simulator is Gazebo"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Complex scenes"}),": Multiple robots, objects, relationships"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Advanced physics"}),": Need Gazebo-specific physics features"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Worlds"}),": Defining environments (not just robots)"]}),"\n"]}),"\n",(0,r.jsx)(e.h3,{id:"sdf-structure",children:"SDF Structure"}),"\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"More expressive than URDF"}),":"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-xml",children:'<?xml version="1.0"?>\n<sdf version="1.7">\n  <world name="my_world">\n    \x3c!-- Physics settings --\x3e\n    <physics type="ode">\n      <max_step_size>0.001</max_step_size>\n      <real_time_factor>1.0</real_time_factor>\n    </physics>\n\n    \x3c!-- Lighting --\x3e\n    <light name="sun" type="directional">\n      <pose>0 0 10 0 0 0</pose>\n      <diffuse>0.8 0.8 0.8 1</diffuse>\n      <specular>0.2 0.2 0.2 1</specular>\n      <direction>-0.5 0.1 -0.9</direction>\n    </light>\n\n    \x3c!-- Ground plane --\x3e\n    <model name="ground_plane">\n      <static>true</static>\n      <link name="link">\n        <collision name="collision">\n          <geometry>\n            <plane>\n              <normal>0 0 1</normal>\n              <size>100 100</size>\n            </plane>\n          </geometry>\n        </collision>\n        <visual name="visual">\n          <geometry>\n            <plane>\n              <normal>0 0 1</normal>\n              <size>100 100</size>\n            </plane>\n          </geometry>\n          <material>\n            <ambient>0.8 0.8 0.8 1</ambient>\n            <diffuse>0.8 0.8 0.8 1</diffuse>\n          </material>\n        </visual>\n      </link>\n    </model>\n\n    \x3c!-- Robot model --\x3e\n    <model name="my_robot">\n      <pose>0 0 1 0 0 0</pose>\n      <link name="base_link">\n        <pose>0 0 0 0 0 0</pose>\n        <inertial>\n          <mass>10.0</mass>\n          <inertia>\n            <ixx>1.0</ixx>\n            <ixy>0</ixy>\n            <ixz>0</ixz>\n            <iyy>1.0</iyy>\n            <iyz>0</iyz>\n            <izz>1.0</izz>\n          </inertia>\n        </inertial>\n        <collision name="collision">\n          <geometry>\n            <box>\n              <size>1 1 0.5</size>\n            </box>\n          </geometry>\n        </collision>\n        <visual name="visual">\n          <geometry>\n            <box>\n              <size>1 1 0.5</size>\n            </box>\n          </geometry>\n          <material>\n            <ambient>1 0 0 1</ambient>\n            <diffuse>1 0 0 1</diffuse>\n          </material>\n        </visual>\n      </link>\n\n      \x3c!-- Plugins directly in SDF --\x3e\n      <plugin name="gazebo_ros_control" filename="libgazebo_ros_control.so"/>\n    </model>\n  </world>\n</sdf>\n'})}),"\n",(0,r.jsx)(e.h3,{id:"sdf-advantages-over-urdf",children:"SDF Advantages Over URDF"}),"\n",(0,r.jsxs)(e.ol,{children:["\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Multiple models"}),": Define multiple robots/objects in one file"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"World description"}),": Ground, lighting, physics in same file"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Graph structure"}),": Can represent closed kinematic loops"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Native plugins"}),": Sensors and controllers built-in"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Nested models"}),": Hierarchical model composition"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Actors"}),": Animated humans, scripted motions"]}),"\n"]}),"\n",(0,r.jsx)(e.h3,{id:"sdf-for-worlds",children:"SDF for Worlds"}),"\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"Defining complete environments"}),":"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-xml",children:'<sdf version="1.7">\n  <world name="warehouse">\n    \x3c!-- Physics --\x3e\n    <physics type="ode">\n      <max_step_size>0.001</max_step_size>\n    </physics>\n\n    \x3c!-- Sun --\x3e\n    <include>\n      <uri>model://sun</uri>\n    </include>\n\n    \x3c!-- Ground --\x3e\n    <include>\n      <uri>model://ground_plane</uri>\n    </include>\n\n    \x3c!-- Obstacles --\x3e\n    <model name="box1">\n      <pose>2 0 0.5 0 0 0</pose>\n      <link name="link">\n        <collision name="collision">\n          <geometry>\n            <box><size>1 1 1</size></box>\n          </geometry>\n        </collision>\n        <visual name="visual">\n          <geometry>\n            <box><size>1 1 1</size></box>\n          </geometry>\n        </visual>\n      </link>\n    </model>\n\n    \x3c!-- Include robot from separate file --\x3e\n    <include>\n      <uri>model://my_humanoid</uri>\n      <pose>0 0 1 0 0 0</pose>\n    </include>\n\n    \x3c!-- Animated human --\x3e\n    <actor name="person1">\n      <pose>5 0 0 0 0 0</pose>\n      <skin>\n        <filename>model://person/meshes/person.dae</filename>\n      </skin>\n      <animation name="walking">\n        <filename>model://person/meshes/walk.dae</filename>\n      </animation>\n      <script>\n        <trajectory id="0" type="walking">\n          <waypoint>\n            <time>0</time>\n            <pose>5 0 0 0 0 0</pose>\n          </waypoint>\n          <waypoint>\n            <time>5</time>\n            <pose>-5 0 0 0 0 0</pose>\n          </waypoint>\n        </trajectory>\n      <\/script>\n    </actor>\n  </world>\n</sdf>\n'})}),"\n",(0,r.jsx)(e.h2,{id:"converting-between-formats",children:"Converting Between Formats"}),"\n",(0,r.jsx)(e.h3,{id:"urdf-to-sdf",children:"URDF to SDF"}),"\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"Automatic"})," when spawning URDF in Gazebo:"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-bash",children:"ros2 launch gazebo_ros gazebo.launch.py\nros2 run gazebo_ros spawn_entity.py -topic /robot_description -entity my_robot\n# Gazebo converts URDF to SDF internally\n"})}),"\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"Manual conversion"}),":"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-bash",children:"# Using gz (Gazebo command-line tool)\ngz sdf -p robot.urdf > robot.sdf\n"})}),"\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"Caveats"}),":"]}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"Some URDF features may not translate perfectly"}),"\n",(0,r.jsxs)(e.li,{children:["Gazebo extensions (",(0,r.jsx)(e.code,{children:"<gazebo>"})," tags) are preserved"]}),"\n"]}),"\n",(0,r.jsx)(e.h3,{id:"sdf-to-urdf",children:"SDF to URDF"}),"\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"Not straightforward"})," (SDF is more expressive):"]}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"No automated tool for full conversion"}),"\n",(0,r.jsx)(e.li,{children:"Can manually extract single model from SDF world"}),"\n",(0,r.jsx)(e.li,{children:"Some features (actors, closed loops) can't be represented in URDF"}),"\n"]}),"\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"Workaround"}),": Keep robot in URDF, world in SDF."]}),"\n",(0,r.jsx)(e.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,r.jsx)(e.h3,{id:"workflow-recommendation",children:"Workflow Recommendation"}),"\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"For ROS 2 + Gazebo Projects"}),":"]}),"\n",(0,r.jsxs)(e.ol,{children:["\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"Robot"}),": Define in URDF/XACRO"]}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"Benefits from ROS 2 ecosystem"}),"\n",(0,r.jsxs)(e.li,{children:["Works with ",(0,r.jsx)(e.code,{children:"robot_state_publisher"}),", ",(0,r.jsx)(e.code,{children:"joint_state_publisher"})]}),"\n",(0,r.jsx)(e.li,{children:"Compatible with MoveIt, Nav2"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"World"}),": Define in SDF"]}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"Leverage Gazebo's world features"}),"\n",(0,r.jsx)(e.li,{children:"Include multiple obstacles, actors"}),"\n",(0,r.jsx)(e.li,{children:"Define lighting, physics"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"Integration"}),": Launch both"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",children:"# Launch file\nreturn LaunchDescription([\n    # Load robot URDF\n    Node(\n        package='robot_state_publisher',\n        executable='robot_state_publisher',\n        parameters=[{'robot_description': robot_description}]\n    ),\n\n    # Launch Gazebo with SDF world\n    ExecuteProcess(\n        cmd=['gazebo', '--verbose', world_file],\n        output='screen'\n    ),\n\n    # Spawn URDF robot into SDF world\n    Node(\n        package='gazebo_ros',\n        executable='spawn_entity.py',\n        arguments=['-topic', '/robot_description', '-entity', 'my_robot']\n    ),\n])\n"})}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(e.h3,{id:"file-organization",children:"File Organization"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{children:"my_robot/\n\u251c\u2500\u2500 urdf/\n\u2502   \u251c\u2500\u2500 robot.urdf.xacro       # Main robot description (XACRO)\n\u2502   \u251c\u2500\u2500 robot.urdf              # Generated from XACRO (git-ignored)\n\u2502   \u2514\u2500\u2500 materials.xacro         # Shared materials\n\u251c\u2500\u2500 meshes/\n\u2502   \u251c\u2500\u2500 base_link.stl\n\u2502   \u251c\u2500\u2500 arm_link.dae\n\u2502   \u2514\u2500\u2500 ...\n\u251c\u2500\u2500 worlds/\n\u2502   \u251c\u2500\u2500 warehouse.world         # SDF world\n\u2502   \u251c\u2500\u2500 office.world\n\u2502   \u2514\u2500\u2500 models/                 # SDF models for obstacles\n\u2502       \u251c\u2500\u2500 box/\n\u2502       \u2502   \u2514\u2500\u2500 model.sdf\n\u2502       \u2514\u2500\u2500 table/\n\u2502           \u2514\u2500\u2500 model.sdf\n\u2514\u2500\u2500 launch/\n    \u2514\u2500\u2500 simulation.launch.py    # Launches Gazebo + robot\n"})}),"\n",(0,r.jsx)(e.h3,{id:"gazebo-model-path",children:"Gazebo Model Path"}),"\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"For SDF models"}),":"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-bash",children:"export GAZEBO_MODEL_PATH=/path/to/my_robot/worlds/models:$GAZEBO_MODEL_PATH\n"})}),"\n",(0,r.jsx)(e.p,{children:"In launch file:"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-python",children:"import os\nos.environ['GAZEBO_MODEL_PATH'] = '/path/to/models:' + os.environ.get('GAZEBO_MODEL_PATH', '')\n"})}),"\n",(0,r.jsx)(e.h2,{id:"common-pitfalls",children:"Common Pitfalls"}),"\n",(0,r.jsx)(e.h3,{id:"1-mixing-formats-incorrectly",children:"1. Mixing Formats Incorrectly"}),"\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"Wrong"}),":"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-xml",children:"\x3c!-- Trying to put SDF world tags in URDF --\x3e\n<robot>\n  <world>  \x3c!-- ERROR: URDF doesn't support <world> --\x3e\n    <light>...</light>\n  </world>\n</robot>\n"})}),"\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"Right"}),":"]}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"Keep robot in URDF"}),"\n",(0,r.jsx)(e.li,{children:"Keep world in SDF"}),"\n",(0,r.jsx)(e.li,{children:"Spawn robot into world at runtime"}),"\n"]}),"\n",(0,r.jsx)(e.h3,{id:"2-forgetting-xacro-namespace",children:"2. Forgetting XACRO Namespace"}),"\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"Wrong"}),":"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-xml",children:'<robot name="my_robot">\n  <property name="length" value="1.0"/>  \x3c!-- ERROR: not XACRO --\x3e\n</robot>\n'})}),"\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"Right"}),":"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-xml",children:'<robot name="my_robot" xmlns:xacro="http://www.ros.org/wiki/xacro">\n  <xacro:property name="length" value="1.0"/>\n</robot>\n'})}),"\n",(0,r.jsx)(e.h3,{id:"3-incorrect-file-paths",children:"3. Incorrect File Paths"}),"\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"Wrong"}),":"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-xml",children:'<mesh filename="my_mesh.stl"/>  \x3c!-- Relative path unclear --\x3e\n'})}),"\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"Right"}),":"]}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-xml",children:'<mesh filename="package://my_robot_description/meshes/my_mesh.stl"/>\n'})}),"\n",(0,r.jsx)(e.h2,{id:"summary-table",children:"Summary Table"}),"\n",(0,r.jsxs)(e.table,{children:[(0,r.jsx)(e.thead,{children:(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.th,{children:"Use Case"}),(0,r.jsx)(e.th,{children:"Format"}),(0,r.jsx)(e.th,{children:"Tool"})]})}),(0,r.jsxs)(e.tbody,{children:[(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"ROS 2 robot (no sim)"}),(0,r.jsx)(e.td,{children:"URDF/XACRO"}),(0,r.jsx)(e.td,{children:"robot_state_publisher"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"Gazebo robot"}),(0,r.jsxs)(e.td,{children:["URDF + ",(0,r.jsx)(e.code,{children:"<gazebo>"})," tags"]}),(0,r.jsx)(e.td,{children:"gazebo_ros"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"Gazebo world"}),(0,r.jsx)(e.td,{children:"SDF"}),(0,r.jsx)(e.td,{children:"Gazebo"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"Complex robot (macros)"}),(0,r.jsx)(e.td,{children:"XACRO \u2192 URDF"}),(0,r.jsx)(e.td,{children:"xacro"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"Multiple robots"}),(0,r.jsx)(e.td,{children:"SDF world"}),(0,r.jsx)(e.td,{children:"Gazebo"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{children:"Isaac Sim"}),(0,r.jsx)(e.td,{children:"USD (convert from URDF)"}),(0,r.jsx)(e.td,{children:"Isaac URDF importer"})]})]})]}),"\n",(0,r.jsx)(e.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,r.jsx)(e.p,{children:"You've completed Module 2: The Digital Twin! You now understand simulation with Gazebo, Unity, sensors, and robot description formats."}),"\n",(0,r.jsxs)(e.p,{children:["\ud83d\udc49 ",(0,r.jsx)(e.strong,{children:(0,r.jsx)(e.a,{href:"../module3-isaac/isaac-sim",children:"Next: Module 3 - The AI-Robot Brain \u2192"})})]}),"\n",(0,r.jsx)(e.hr,{}),"\n",(0,r.jsxs)(e.admonition,{title:"Format Selection Guide",type:"tip",children:[(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"Quick decision tree"}),":"]}),(0,r.jsxs)(e.ol,{children:["\n",(0,r.jsx)(e.li,{children:"Need ROS 2 integration? \u2192 URDF/XACRO"}),"\n",(0,r.jsx)(e.li,{children:"Single robot only? \u2192 URDF/XACRO"}),"\n",(0,r.jsx)(e.li,{children:"Complex scene with multiple models? \u2192 SDF"}),"\n",(0,r.jsx)(e.li,{children:"Just visualization? \u2192 Consider Unity (+ ROS bridge)"}),"\n",(0,r.jsx)(e.li,{children:"AI training (sim-to-real)? \u2192 Isaac Sim (USD)"}),"\n"]}),(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"Most common"}),": URDF for robot + SDF for world."]})]}),"\n",(0,r.jsx)(e.h2,{id:"lab-exercise",children:"Lab Exercise"}),"\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"Convert and test both formats"}),":"]}),"\n",(0,r.jsxs)(e.ol,{children:["\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"Create XACRO robot"}),":"]}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"Define humanoid with macros (left/right legs)"}),"\n",(0,r.jsx)(e.li,{children:"Use properties for link dimensions"}),"\n",(0,r.jsx)(e.li,{children:"Add Gazebo plugins (camera, LIDAR, IMU)"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"Create SDF world"}),":"]}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"Ground plane"}),"\n",(0,r.jsx)(e.li,{children:"5 box obstacles at random positions"}),"\n",(0,r.jsx)(e.li,{children:"Dome light"}),"\n",(0,r.jsx)(e.li,{children:"Animated human actor walking"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"Integration"}),":"]}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["Write launch file that:","\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsx)(e.li,{children:"Loads URDF robot"}),"\n",(0,r.jsx)(e.li,{children:"Launches SDF world"}),"\n",(0,r.jsx)(e.li,{children:"Spawns robot into world"}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(e.li,{children:"Test that all sensors publish to ROS 2"}),"\n",(0,r.jsx)(e.li,{children:"Verify actor moves"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.li,{children:["\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"Conversion test"}),":"]}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:["Convert XACRO to URDF: ",(0,r.jsx)(e.code,{children:"xacro robot.urdf.xacro > robot.urdf"})]}),"\n",(0,r.jsxs)(e.li,{children:["Convert URDF to SDF: ",(0,r.jsx)(e.code,{children:"gz sdf -p robot.urdf > robot.sdf"})]}),"\n",(0,r.jsx)(e.li,{children:"Compare file sizes and structure"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(e.p,{children:[(0,r.jsx)(e.strong,{children:"Bonus"}),": Create second robot and spawn both into the same world."]})]})}function h(n={}){const{wrapper:e}={...(0,o.R)(),...n.components};return e?(0,r.jsx)(e,{...n,children:(0,r.jsx)(c,{...n})}):c(n)}},8453:(n,e,i)=>{i.d(e,{R:()=>l,x:()=>t});var s=i(6540);const r={},o=s.createContext(r);function l(n){const e=s.useContext(o);return s.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function t(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(r):n.components||r:l(n.components),s.createElement(o.Provider,{value:e},n.children)}}}]);