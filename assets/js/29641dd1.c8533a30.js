"use strict";(globalThis.webpackChunkrobotics_book=globalThis.webpackChunkrobotics_book||[]).push([[3812],{2486:(n,e,i)=>{i.r(e),i.d(e,{assets:()=>t,contentTitle:()=>s,default:()=>x,frontMatter:()=>a,metadata:()=>r,toc:()=>c});const r=JSON.parse('{"id":"module1-ros2/urdf-humanoids","title":"URDF for Humanoids","description":"Understanding Unified Robot Description Format for defining humanoid robot morphology","source":"@site/docs/module1-ros2/urdf-humanoids.md","sourceDirName":"module1-ros2","slug":"/module1-ros2/urdf-humanoids","permalink":"/module1-ros2/urdf-humanoids","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedAt":1764862720000,"sidebarPosition":4,"frontMatter":{"sidebar_position":4,"title":"URDF for Humanoids","description":"Understanding Unified Robot Description Format for defining humanoid robot morphology","keywords":["URDF","robot description","humanoid","ROS 2","kinematics","XACRO"]},"sidebar":"tutorialSidebar","previous":{"title":"Python and ROS 2 Integration","permalink":"/module1-ros2/python-ros2"},"next":{"title":"Launch Files and Configuration","permalink":"/module1-ros2/launch-files"}}');var l=i(4848),o=i(8453);const a={sidebar_position:4,title:"URDF for Humanoids",description:"Understanding Unified Robot Description Format for defining humanoid robot morphology",keywords:["URDF","robot description","humanoid","ROS 2","kinematics","XACRO"]},s="URDF for Humanoids",t={},c=[{value:"What is URDF?",id:"what-is-urdf",level:2},{value:"Why URDF for Humanoids?",id:"why-urdf-for-humanoids",level:2},{value:"URDF Structure: Links and Joints",id:"urdf-structure-links-and-joints",level:2},{value:"Basic Concepts",id:"basic-concepts",level:3},{value:"Minimal URDF Example",id:"minimal-urdf-example",level:3},{value:"Link Elements",id:"link-elements",level:2},{value:"Visual Geometry",id:"visual-geometry",level:3},{value:"Collision Geometry",id:"collision-geometry",level:3},{value:"Inertial Properties",id:"inertial-properties",level:3},{value:"Joint Types",id:"joint-types",level:2},{value:"1. Revolute (Hinge)",id:"1-revolute-hinge",level:3},{value:"2. Continuous (Unlimited Rotation)",id:"2-continuous-unlimited-rotation",level:3},{value:"3. Prismatic (Slider)",id:"3-prismatic-slider",level:3},{value:"4. Fixed",id:"4-fixed",level:3},{value:"Humanoid URDF Example: Simple Biped",id:"humanoid-urdf-example-simple-biped",level:2},{value:"XACRO: Macros for URDF",id:"xacro-macros-for-urdf",level:2},{value:"XACRO Example: Parametrized Leg",id:"xacro-example-parametrized-leg",level:3},{value:"Converting XACRO to URDF",id:"converting-xacro-to-urdf",level:3},{value:"Sensors in URDF",id:"sensors-in-urdf",level:2},{value:"Camera",id:"camera",level:3},{value:"LIDAR",id:"lidar",level:3},{value:"Visualizing and Validating URDF",id:"visualizing-and-validating-urdf",level:2},{value:"check_urdf Tool",id:"check_urdf-tool",level:3},{value:"urdf_to_graphviz",id:"urdf_to_graphviz",level:3},{value:"RViz Visualization",id:"rviz-visualization",level:3},{value:"Next Steps",id:"next-steps",level:2},{value:"Lab Exercise",id:"lab-exercise",level:2}];function d(n){const e={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...n.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(e.header,{children:(0,l.jsx)(e.h1,{id:"urdf-for-humanoids",children:"URDF for Humanoids"})}),"\n",(0,l.jsx)(e.h2,{id:"what-is-urdf",children:"What is URDF?"}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"URDF (Unified Robot Description Format)"})," is an XML-based format for describing a robot's:"]}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"Physical structure"}),": Links (rigid bodies) and joints (connections)"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"Visual appearance"}),": 3D meshes and colors"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"Collision geometry"}),": Simplified shapes for physics simulation"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"Inertial properties"}),": Mass, center of mass, moments of inertia"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"Sensors and actuators"}),": Cameras, LIDARs, motors"]}),"\n"]}),"\n",(0,l.jsxs)(e.p,{children:["Think of URDF as the ",(0,l.jsx)(e.strong,{children:"blueprint"})," of your robot\u2014it defines the robot's body in a way that simulators (Gazebo, Isaac Sim) and ROS 2 can understand."]}),"\n",(0,l.jsx)(e.h2,{id:"why-urdf-for-humanoids",children:"Why URDF for Humanoids?"}),"\n",(0,l.jsx)(e.p,{children:"Humanoid robots are complex:"}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"30-50+ degrees of freedom"})," (DoF): Each joint needs definition"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"Kinematic chains"}),": Arms, legs, torso form interconnected chains"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"Balance constraints"}),": Center of mass, foot contact critical"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"Sensor placement"}),": Cameras, IMUs at specific locations"]}),"\n"]}),"\n",(0,l.jsx)(e.p,{children:"URDF provides a standardized way to represent this complexity."}),"\n",(0,l.jsx)(e.h2,{id:"urdf-structure-links-and-joints",children:"URDF Structure: Links and Joints"}),"\n",(0,l.jsx)(e.h3,{id:"basic-concepts",children:"Basic Concepts"}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"Link"})," = Rigid body (bone, limb segment)"]}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"Has mass, inertia, visual/collision geometry"}),"\n"]}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"Joint"})," = Connection between links"]}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"Types: revolute (hinge), prismatic (slider), fixed, continuous"}),"\n"]}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"Kinematic Tree"}),": Links connected by joints forming a tree structure"]}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{children:"        [Torso]\n       /   |   \\\n   [L_Arm] | [R_Arm]\n          [Pelvis]\n          /      \\\n     [L_Leg]  [R_Leg]\n"})}),"\n",(0,l.jsx)(e.h3,{id:"minimal-urdf-example",children:"Minimal URDF Example"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-xml",children:'<?xml version="1.0"?>\n<robot name="simple_robot">\n\n  \x3c!-- Base link (required root) --\x3e\n  <link name="base_link">\n    <visual>\n      <geometry>\n        <box size="0.2 0.2 0.1"/>\n      </geometry>\n      <material name="blue">\n        <color rgba="0 0 1 1"/>\n      </material>\n    </visual>\n  </link>\n\n  \x3c!-- Arm link --\x3e\n  <link name="arm_link">\n    <visual>\n      <geometry>\n        <cylinder radius="0.02" length="0.5"/>\n      </geometry>\n      <material name="gray">\n        <color rgba="0.5 0.5 0.5 1"/>\n      </material>\n    </visual>\n  </link>\n\n  \x3c!-- Joint connecting base to arm --\x3e\n  <joint name="shoulder_joint" type="revolute">\n    <parent link="base_link"/>\n    <child link="arm_link"/>\n    <origin xyz="0 0 0.1" rpy="0 0 0"/>\n    <axis xyz="0 1 0"/>\n    <limit lower="-1.57" upper="1.57" effort="10" velocity="1.0"/>\n  </joint>\n\n</robot>\n'})}),"\n",(0,l.jsx)(e.h2,{id:"link-elements",children:"Link Elements"}),"\n",(0,l.jsx)(e.h3,{id:"visual-geometry",children:"Visual Geometry"}),"\n",(0,l.jsx)(e.p,{children:"Defines how the robot looks:"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-xml",children:'<link name="torso">\n  <visual>\n    \x3c!-- Transform from link origin to visual --\x3e\n    <origin xyz="0 0 0.3" rpy="0 0 0"/>\n\n    \x3c!-- Geometry options --\x3e\n    <geometry>\n      \x3c!-- Option 1: Basic shapes --\x3e\n      <box size="0.3 0.2 0.6"/>  \x3c!-- width, depth, height --\x3e\n      \x3c!-- OR --\x3e\n      <cylinder radius="0.1" length="0.6"/>\n      \x3c!-- OR --\x3e\n      <sphere radius="0.1"/>\n      \x3c!-- OR --\x3e\n      \x3c!-- Option 2: 3D mesh --\x3e\n      <mesh filename="package://robot_description/meshes/torso.stl" scale="1.0 1.0 1.0"/>\n    </geometry>\n\n    \x3c!-- Material (color or texture) --\x3e\n    <material name="white">\n      <color rgba="1 1 1 1"/>  \x3c!-- RGBA: 0-1 --\x3e\n    </material>\n  </visual>\n</link>\n'})}),"\n",(0,l.jsx)(e.h3,{id:"collision-geometry",children:"Collision Geometry"}),"\n",(0,l.jsx)(e.p,{children:"Simplified geometry for physics simulation (faster than visual):"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-xml",children:'<collision>\n  <origin xyz="0 0 0.3" rpy="0 0 0"/>\n  <geometry>\n    \x3c!-- Use simpler geometry than visual for performance --\x3e\n    <box size="0.3 0.2 0.6"/>\n  </geometry>\n</collision>\n'})}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"Best practice"}),": Use primitive shapes (box, cylinder, sphere) for collision, detailed meshes for visual."]}),"\n",(0,l.jsx)(e.h3,{id:"inertial-properties",children:"Inertial Properties"}),"\n",(0,l.jsx)(e.p,{children:"Physical properties for dynamics simulation:"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-xml",children:'<inertial>\n  <origin xyz="0 0 0.3" rpy="0 0 0"/>  \x3c!-- Center of mass --\x3e\n  <mass value="5.0"/>  \x3c!-- kg --\x3e\n\n  \x3c!-- Inertia tensor (3x3 matrix) --\x3e\n  <inertia\n    ixx="0.1" ixy="0.0" ixz="0.0"\n                iyy="0.1" iyz="0.0"\n                          izz="0.05"/>\n</inertial>\n'})}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"Calculating inertia"}),": For basic shapes, use formulas:"]}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"Box"}),": ",(0,l.jsx)(e.code,{children:"ixx = (1/12) * m * (h\xb2 + d\xb2)"}),", etc."]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"Cylinder"}),": ",(0,l.jsx)(e.code,{children:"ixx = (1/12) * m * (3r\xb2 + h\xb2)"}),", ",(0,l.jsx)(e.code,{children:"izz = (1/2) * m * r\xb2"})]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"MeshLab/Blender"}),": For complex meshes, use CAD tools"]}),"\n"]}),"\n",(0,l.jsx)(e.h2,{id:"joint-types",children:"Joint Types"}),"\n",(0,l.jsx)(e.h3,{id:"1-revolute-hinge",children:"1. Revolute (Hinge)"}),"\n",(0,l.jsx)(e.p,{children:"Most common for humanoid joints (elbow, knee, shoulder):"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-xml",children:'<joint name="elbow_joint" type="revolute">\n  <parent link="upper_arm"/>\n  <child link="forearm"/>\n\n  \x3c!-- Joint location and orientation --\x3e\n  <origin xyz="0 0 0.3" rpy="0 0 0"/>\n\n  \x3c!-- Rotation axis (local frame) --\x3e\n  <axis xyz="0 1 0"/>  \x3c!-- Rotate around Y-axis --\x3e\n\n  \x3c!-- Joint limits --\x3e\n  <limit\n    lower="-2.0"       \x3c!-- Min angle (rad) --\x3e\n    upper="0.0"        \x3c!-- Max angle (rad) --\x3e\n    effort="50.0"      \x3c!-- Max torque (Nm) --\x3e\n    velocity="2.0"/>   \x3c!-- Max angular velocity (rad/s) --\x3e\n\n  \x3c!-- Dynamics (optional) --\x3e\n  <dynamics damping="0.7" friction="0.0"/>\n</joint>\n'})}),"\n",(0,l.jsx)(e.h3,{id:"2-continuous-unlimited-rotation",children:"2. Continuous (Unlimited Rotation)"}),"\n",(0,l.jsx)(e.p,{children:"For wheels or spinning joints:"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-xml",children:'<joint name="wheel_joint" type="continuous">\n  <parent link="base_link"/>\n  <child link="wheel"/>\n  <origin xyz="0 0 0" rpy="0 0 0"/>\n  <axis xyz="0 1 0"/>\n  <limit effort="10.0" velocity="5.0"/>  \x3c!-- No lower/upper --\x3e\n</joint>\n'})}),"\n",(0,l.jsx)(e.h3,{id:"3-prismatic-slider",children:"3. Prismatic (Slider)"}),"\n",(0,l.jsx)(e.p,{children:"For linear motion (telescoping limbs):"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-xml",children:'<joint name="lift_joint" type="prismatic">\n  <parent link="base"/>\n  <child link="platform"/>\n  <origin xyz="0 0 0" rpy="0 0 0"/>\n  <axis xyz="0 0 1"/>  \x3c!-- Move along Z --\x3e\n  <limit\n    lower="0.0"\n    upper="0.5"        \x3c!-- Max extension (meters) --\x3e\n    effort="100.0"\n    velocity="0.2"/>\n</joint>\n'})}),"\n",(0,l.jsx)(e.h3,{id:"4-fixed",children:"4. Fixed"}),"\n",(0,l.jsx)(e.p,{children:"For rigidly attached parts (no motion):"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-xml",children:'<joint name="camera_mount" type="fixed">\n  <parent link="head"/>\n  <child link="camera_link"/>\n  <origin xyz="0.1 0 0.05" rpy="0 0 0"/>\n</joint>\n'})}),"\n",(0,l.jsx)(e.h2,{id:"humanoid-urdf-example-simple-biped",children:"Humanoid URDF Example: Simple Biped"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-xml",children:'<?xml version="1.0"?>\n<robot name="simple_humanoid">\n\n  \x3c!-- Base: Torso --\x3e\n  <link name="torso">\n    <visual>\n      <geometry>\n        <box size="0.3 0.2 0.6"/>\n      </geometry>\n      <material name="white">\n        <color rgba="1 1 1 1"/>\n      </material>\n    </visual>\n    <collision>\n      <geometry>\n        <box size="0.3 0.2 0.6"/>\n      </geometry>\n    </collision>\n    <inertial>\n      <mass value="10.0"/>\n      <inertia ixx="0.35" ixy="0" ixz="0" iyy="0.4" iyz="0" izz="0.15"/>\n    </inertial>\n  </link>\n\n  \x3c!-- Head --\x3e\n  <link name="head">\n    <visual>\n      <geometry>\n        <sphere radius="0.12"/>\n      </geometry>\n      <material name="skin">\n        <color rgba="0.9 0.8 0.7 1"/>\n      </material>\n    </visual>\n    <collision>\n      <geometry>\n        <sphere radius="0.12"/>\n      </geometry>\n    </collision>\n    <inertial>\n      <mass value="2.0"/>\n      <inertia ixx="0.01" ixy="0" ixz="0" iyy="0.01" iyz="0" izz="0.01"/>\n    </inertial>\n  </link>\n\n  \x3c!-- Neck joint (revolute, pitch) --\x3e\n  <joint name="neck_pitch" type="revolute">\n    <parent link="torso"/>\n    <child link="head"/>\n    <origin xyz="0 0 0.35" rpy="0 0 0"/>\n    <axis xyz="0 1 0"/>\n    <limit lower="-0.5" upper="0.5" effort="10" velocity="1.0"/>\n  </joint>\n\n  \x3c!-- Right Upper Leg --\x3e\n  <link name="right_upper_leg">\n    <visual>\n      <origin xyz="0 0 -0.2" rpy="0 0 0"/>\n      <geometry>\n        <cylinder radius="0.05" length="0.4"/>\n      </geometry>\n      <material name="blue">\n        <color rgba="0 0 1 1"/>\n      </material>\n    </visual>\n    <collision>\n      <origin xyz="0 0 -0.2" rpy="0 0 0"/>\n      <geometry>\n        <cylinder radius="0.05" length="0.4"/>\n      </geometry>\n    </collision>\n    <inertial>\n      <origin xyz="0 0 -0.2" rpy="0 0 0"/>\n      <mass value="3.0"/>\n      <inertia ixx="0.04" ixy="0" ixz="0" iyy="0.04" iyz="0" izz="0.0075"/>\n    </inertial>\n  </link>\n\n  \x3c!-- Right hip joint (revolute, pitch) --\x3e\n  <joint name="right_hip_pitch" type="revolute">\n    <parent link="torso"/>\n    <child link="right_upper_leg"/>\n    <origin xyz="0 -0.1 -0.3" rpy="0 0 0"/>\n    <axis xyz="0 1 0"/>\n    <limit lower="-2.0" upper="2.0" effort="100" velocity="2.0"/>\n  </joint>\n\n  \x3c!-- Right Lower Leg --\x3e\n  <link name="right_lower_leg">\n    <visual>\n      <origin xyz="0 0 -0.2" rpy="0 0 0"/>\n      <geometry>\n        <cylinder radius="0.04" length="0.4"/>\n      </geometry>\n      <material name="blue">\n        <color rgba="0 0 1 1"/>\n      </material>\n    </visual>\n    <collision>\n      <origin xyz="0 0 -0.2" rpy="0 0 0"/>\n      <geometry>\n        <cylinder radius="0.04" length="0.4"/>\n      </geometry>\n    </collision>\n    <inertial>\n      <origin xyz="0 0 -0.2" rpy="0 0 0"/>\n      <mass value="2.0"/>\n      <inertia ixx="0.027" ixy="0" ixz="0" iyy="0.027" iyz="0" izz="0.0032"/>\n    </inertial>\n  </link>\n\n  \x3c!-- Right knee joint (revolute, pitch) --\x3e\n  <joint name="right_knee_pitch" type="revolute">\n    <parent link="right_upper_leg"/>\n    <child link="right_lower_leg"/>\n    <origin xyz="0 0 -0.4" rpy="0 0 0"/>\n    <axis xyz="0 1 0"/>\n    <limit lower="0.0" upper="2.5" effort="80" velocity="2.0"/>\n  </joint>\n\n  \x3c!-- Right Foot --\x3e\n  <link name="right_foot">\n    <visual>\n      <geometry>\n        <box size="0.2 0.1 0.05"/>\n      </geometry>\n      <material name="black">\n        <color rgba="0 0 0 1"/>\n      </material>\n    </visual>\n    <collision>\n      <geometry>\n        <box size="0.2 0.1 0.05"/>\n      </geometry>\n    </collision>\n    <inertial>\n      <mass value="1.0"/>\n      <inertia ixx="0.001" ixy="0" ixz="0" iyy="0.003" iyz="0" izz="0.004"/>\n    </inertial>\n  </link>\n\n  \x3c!-- Right ankle joint (revolute, pitch) --\x3e\n  <joint name="right_ankle_pitch" type="revolute">\n    <parent link="right_lower_leg"/>\n    <child link="right_foot"/>\n    <origin xyz="0 0 -0.4" rpy="0 0 0"/>\n    <axis xyz="0 1 0"/>\n    <limit lower="-0.7" upper="0.7" effort="50" velocity="1.5"/>\n  </joint>\n\n  \x3c!-- Left leg: Mirror of right leg (omitted for brevity) --\x3e\n  \x3c!-- Arms: Similar structure (omitted for brevity) --\x3e\n\n</robot>\n'})}),"\n",(0,l.jsx)(e.h2,{id:"xacro-macros-for-urdf",children:"XACRO: Macros for URDF"}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"Problem"}),": URDF is verbose and repetitive (left/right arms/legs are nearly identical)."]}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"Solution"}),": ",(0,l.jsx)(e.strong,{children:"XACRO"})," (XML Macros) extends URDF with:"]}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"Variables"}),"\n",(0,l.jsx)(e.li,{children:"Math expressions"}),"\n",(0,l.jsx)(e.li,{children:"Macros (functions) for reusable components"}),"\n",(0,l.jsx)(e.li,{children:"Conditional statements"}),"\n"]}),"\n",(0,l.jsx)(e.h3,{id:"xacro-example-parametrized-leg",children:"XACRO Example: Parametrized Leg"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-xml",children:'<?xml version="1.0"?>\n<robot name="humanoid" xmlns:xacro="http://www.ros.org/wiki/xacro">\n\n  \x3c!-- Properties (variables) --\x3e\n  <xacro:property name="upper_leg_length" value="0.4"/>\n  <xacro:property name="lower_leg_length" value="0.4"/>\n  <xacro:property name="upper_leg_mass" value="3.0"/>\n  <xacro:property name="lower_leg_mass" value="2.0"/>\n\n  \x3c!-- Macro for a complete leg --\x3e\n  <xacro:macro name="leg" params="prefix reflect">\n\n    \x3c!-- Upper leg link --\x3e\n    <link name="${prefix}_upper_leg">\n      <visual>\n        <origin xyz="0 0 ${-upper_leg_length/2}" rpy="0 0 0"/>\n        <geometry>\n          <cylinder radius="0.05" length="${upper_leg_length}"/>\n        </geometry>\n        <material name="blue">\n          <color rgba="0 0 1 1"/>\n        </material>\n      </visual>\n      <inertial>\n        <origin xyz="0 0 ${-upper_leg_length/2}" rpy="0 0 0"/>\n        <mass value="${upper_leg_mass}"/>\n        <inertia\n          ixx="${upper_leg_mass * (3*0.05*0.05 + upper_leg_length*upper_leg_length) / 12}"\n          ixy="0" ixz="0"\n          iyy="${upper_leg_mass * (3*0.05*0.05 + upper_leg_length*upper_leg_length) / 12}"\n          iyz="0"\n          izz="${upper_leg_mass * 0.05*0.05 / 2}"/>\n      </inertial>\n    </link>\n\n    \x3c!-- Hip joint --\x3e\n    <joint name="${prefix}_hip_pitch" type="revolute">\n      <parent link="torso"/>\n      <child link="${prefix}_upper_leg"/>\n      <origin xyz="0 ${reflect * 0.1} -0.3" rpy="0 0 0"/>\n      <axis xyz="0 1 0"/>\n      <limit lower="-2.0" upper="2.0" effort="100" velocity="2.0"/>\n    </joint>\n\n    \x3c!-- Lower leg link --\x3e\n    <link name="${prefix}_lower_leg">\n      <visual>\n        <origin xyz="0 0 ${-lower_leg_length/2}" rpy="0 0 0"/>\n        <geometry>\n          <cylinder radius="0.04" length="${lower_leg_length}"/>\n        </geometry>\n        <material name="blue">\n          <color rgba="0 0 1 1"/>\n        </material>\n      </visual>\n      <inertial>\n        <origin xyz="0 0 ${-lower_leg_length/2}" rpy="0 0 0"/>\n        <mass value="${lower_leg_mass}"/>\n        <inertia\n          ixx="${lower_leg_mass * (3*0.04*0.04 + lower_leg_length*lower_leg_length) / 12}"\n          ixy="0" ixz="0"\n          iyy="${lower_leg_mass * (3*0.04*0.04 + lower_leg_length*lower_leg_length) / 12}"\n          iyz="0"\n          izz="${lower_leg_mass * 0.04*0.04 / 2}"/>\n      </inertial>\n    </link>\n\n    \x3c!-- Knee joint --\x3e\n    <joint name="${prefix}_knee_pitch" type="revolute">\n      <parent link="${prefix}_upper_leg"/>\n      <child link="${prefix}_lower_leg"/>\n      <origin xyz="0 0 ${-upper_leg_length}" rpy="0 0 0"/>\n      <axis xyz="0 1 0"/>\n      <limit lower="0.0" upper="2.5" effort="80" velocity="2.0"/>\n    </joint>\n\n  </xacro:macro>\n\n  \x3c!-- Instantiate left and right legs --\x3e\n  <xacro:leg prefix="right" reflect="-1"/>\n  <xacro:leg prefix="left" reflect="1"/>\n\n</robot>\n'})}),"\n",(0,l.jsx)(e.h3,{id:"converting-xacro-to-urdf",children:"Converting XACRO to URDF"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-bash",children:"# Process xacro file to generate URDF\nxacro robot.urdf.xacro > robot.urdf\n\n# Or load directly in launch file (ROS 2)\nxacro_file = os.path.join(pkg_path, 'urdf', 'robot.urdf.xacro')\nrobot_desc = Command(['xacro ', xacro_file])\n"})}),"\n",(0,l.jsx)(e.h2,{id:"sensors-in-urdf",children:"Sensors in URDF"}),"\n",(0,l.jsx)(e.h3,{id:"camera",children:"Camera"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-xml",children:'<link name="camera_link">\n  <visual>\n    <geometry>\n      <box size="0.05 0.05 0.03"/>\n    </geometry>\n    <material name="black">\n      <color rgba="0 0 0 1"/>\n    </material>\n  </visual>\n</link>\n\n<joint name="camera_joint" type="fixed">\n  <parent link="head"/>\n  <child link="camera_link"/>\n  <origin xyz="0.15 0 0" rpy="0 0 0"/>\n</joint>\n\n\x3c!-- Gazebo plugin for camera simulation --\x3e\n<gazebo reference="camera_link">\n  <sensor type="camera" name="camera1">\n    <update_rate>30.0</update_rate>\n    <camera name="head">\n      <horizontal_fov>1.3962634</horizontal_fov>\n      <image>\n        <width>800</width>\n        <height>800</height>\n        <format>R8G8B8</format>\n      </image>\n      <clip>\n        <near>0.02</near>\n        <far>300</far>\n      </clip>\n    </camera>\n    <plugin name="camera_controller" filename="libgazebo_ros_camera.so">\n      <alwaysOn>true</alwaysOn>\n      <updateRate>0.0</updateRate>\n      <cameraName>camera</cameraName>\n      <imageTopicName>image_raw</imageTopicName>\n      <cameraInfoTopicName>camera_info</cameraInfoTopicName>\n      <frameName>camera_link</frameName>\n    </plugin>\n  </sensor>\n</gazebo>\n'})}),"\n",(0,l.jsx)(e.h3,{id:"lidar",children:"LIDAR"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-xml",children:'<link name="lidar_link">\n  <visual>\n    <geometry>\n      <cylinder radius="0.05" length="0.07"/>\n    </geometry>\n  </visual>\n</link>\n\n<joint name="lidar_joint" type="fixed">\n  <parent link="torso"/>\n  <child link="lidar_link"/>\n  <origin xyz="0 0 0.35" rpy="0 0 0"/>\n</joint>\n\n<gazebo reference="lidar_link">\n  <sensor type="ray" name="lidar">\n    <pose>0 0 0 0 0 0</pose>\n    <visualize>true</visualize>\n    <update_rate>10</update_rate>\n    <ray>\n      <scan>\n        <horizontal>\n          <samples>720</samples>\n          <resolution>1</resolution>\n          <min_angle>-3.14159</min_angle>\n          <max_angle>3.14159</max_angle>\n        </horizontal>\n      </scan>\n      <range>\n        <min>0.10</min>\n        <max>30.0</max>\n        <resolution>0.01</resolution>\n      </range>\n    </ray>\n    <plugin name="gazebo_ros_lidar_controller" filename="libgazebo_ros_ray_sensor.so">\n      <topicName>/scan</topicName>\n      <frameName>lidar_link</frameName>\n    </plugin>\n  </sensor>\n</gazebo>\n'})}),"\n",(0,l.jsx)(e.h2,{id:"visualizing-and-validating-urdf",children:"Visualizing and Validating URDF"}),"\n",(0,l.jsx)(e.h3,{id:"check_urdf-tool",children:"check_urdf Tool"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-bash",children:"# Validate URDF syntax\ncheck_urdf robot.urdf\n\n# Output shows:\n# - Joint and link tree\n# - Any errors or warnings\n"})}),"\n",(0,l.jsx)(e.h3,{id:"urdf_to_graphviz",children:"urdf_to_graphviz"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-bash",children:"# Generate visual graph of robot structure\nurdf_to_graphviz robot.urdf\n\n# Creates PDF showing kinematic tree\n"})}),"\n",(0,l.jsx)(e.h3,{id:"rviz-visualization",children:"RViz Visualization"}),"\n",(0,l.jsx)(e.pre,{children:(0,l.jsx)(e.code,{className:"language-bash",children:"# Launch RViz with robot model\nros2 launch urdf_tutorial display.launch.py model:=robot.urdf\n\n# Use joint_state_publisher_gui to move joints\n"})}),"\n",(0,l.jsx)(e.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,l.jsx)(e.p,{children:"Now that you can define robot morphology with URDF, learn how to orchestrate multiple nodes with launch files."}),"\n",(0,l.jsxs)(e.p,{children:["\ud83d\udc49 ",(0,l.jsx)(e.strong,{children:(0,l.jsx)(e.a,{href:"launch-files",children:"Next: Launch Files and Configuration \u2192"})})]}),"\n",(0,l.jsx)(e.hr,{}),"\n",(0,l.jsx)(e.admonition,{title:"URDF Best Practices",type:"tip",children:(0,l.jsxs)(e.ol,{children:["\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"Start simple"}),": Build and test incrementally (torso \u2192 legs \u2192 arms)"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"Use XACRO"}),": Avoid repetition, use macros for symmetric parts"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"Validate often"}),": Run ",(0,l.jsx)(e.code,{children:"check_urdf"})," after every change"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"Realistic inertia"}),": Wrong inertia causes unstable simulation"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"Collision < Visual"}),": Use simpler geometry for collision for performance"]}),"\n",(0,l.jsxs)(e.li,{children:[(0,l.jsx)(e.strong,{children:"Sensor placement"}),": Carefully position cameras/LIDAR for proper field of view"]}),"\n"]})}),"\n",(0,l.jsx)(e.h2,{id:"lab-exercise",children:"Lab Exercise"}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"Create a simple humanoid URDF"}),":"]}),"\n",(0,l.jsxs)(e.ol,{children:["\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"Basic structure"}),":"]}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"Torso (box)"}),"\n",(0,l.jsx)(e.li,{children:"Head (sphere) with neck joint"}),"\n",(0,l.jsx)(e.li,{children:"2 arms with shoulder/elbow joints"}),"\n",(0,l.jsx)(e.li,{children:"2 legs with hip/knee/ankle joints"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"Add sensors"}),":"]}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"Camera in head"}),"\n",(0,l.jsx)(e.li,{children:"IMU in torso"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"Validate and visualize"}),":"]}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsxs)(e.li,{children:["Run ",(0,l.jsx)(e.code,{children:"check_urdf"})]}),"\n",(0,l.jsx)(e.li,{children:"Visualize in RViz"}),"\n",(0,l.jsxs)(e.li,{children:["Move joints with ",(0,l.jsx)(e.code,{children:"joint_state_publisher_gui"})]}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(e.li,{children:["\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"Convert to XACRO"}),":"]}),"\n",(0,l.jsxs)(e.ul,{children:["\n",(0,l.jsx)(e.li,{children:"Create macro for leg"}),"\n",(0,l.jsx)(e.li,{children:"Use parameters for dimensions"}),"\n",(0,l.jsx)(e.li,{children:"Instantiate left/right legs"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(e.p,{children:[(0,l.jsx)(e.strong,{children:"Bonus"}),": Add realistic masses and inertias for a 50kg humanoid."]})]})}function x(n={}){const{wrapper:e}={...(0,o.R)(),...n.components};return e?(0,l.jsx)(e,{...n,children:(0,l.jsx)(d,{...n})}):d(n)}},8453:(n,e,i)=>{i.d(e,{R:()=>a,x:()=>s});var r=i(6540);const l={},o=r.createContext(l);function a(n){const e=r.useContext(o);return r.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function s(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(l):n.components||l:a(n.components),r.createElement(o.Provider,{value:e},n.children)}}}]);