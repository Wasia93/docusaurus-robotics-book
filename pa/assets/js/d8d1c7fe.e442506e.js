"use strict";(globalThis.webpackChunkrobotics_book=globalThis.webpackChunkrobotics_book||[]).push([[2507],{4395:(n,e,i)=>{i.r(e),i.d(e,{assets:()=>a,contentTitle:()=>o,default:()=>h,frontMatter:()=>l,metadata:()=>t,toc:()=>c});const t=JSON.parse('{"id":"module2-simulation/unity-rendering","title":"Unity for Robot Visualization","description":"High-fidelity rendering and human-robot interaction in Unity","source":"@site/docs/module2-simulation/unity-rendering.md","sourceDirName":"module2-simulation","slug":"/module2-simulation/unity-rendering","permalink":"/docusaurus-robotics-book/pa/module2-simulation/unity-rendering","draft":false,"unlisted":false,"tags":[],"version":"current","lastUpdatedAt":1764862720000,"sidebarPosition":3,"frontMatter":{"sidebar_position":3,"title":"Unity for Robot Visualization","description":"High-fidelity rendering and human-robot interaction in Unity","keywords":["Unity","visualization","rendering","human-robot interaction","simulation"]},"sidebar":"tutorialSidebar","previous":{"title":"Physics Simulation","permalink":"/docusaurus-robotics-book/pa/module2-simulation/physics-simulation"},"next":{"title":"Sensor Simulation","permalink":"/docusaurus-robotics-book/pa/module2-simulation/sensor-simulation"}}');var s=i(4848),r=i(8453);const l={sidebar_position:3,title:"Unity for Robot Visualization",description:"High-fidelity rendering and human-robot interaction in Unity",keywords:["Unity","visualization","rendering","human-robot interaction","simulation"]},o="Unity for High-Fidelity Rendering",a={},c=[{value:"Introduction to Unity Robotics",id:"introduction-to-unity-robotics",level:2},{value:"Unity vs. Gazebo vs. Isaac Sim",id:"unity-vs-gazebo-vs-isaac-sim",level:3},{value:"When to Use Unity",id:"when-to-use-unity",level:3},{value:"Installation",id:"installation",level:2},{value:"Prerequisites",id:"prerequisites",level:3},{value:"Install Unity Hub",id:"install-unity-hub",level:3},{value:"Install Unity Editor",id:"install-unity-editor",level:3},{value:"Unity Robotics Hub",id:"unity-robotics-hub",level:2},{value:"Installation",id:"installation-1",level:3},{value:"Creating a Robot Simulation",id:"creating-a-robot-simulation",level:2},{value:"Step 1: Create New Project",id:"step-1-create-new-project",level:3},{value:"Step 2: Import URDF",id:"step-2-import-urdf",level:3},{value:"Step 3: Setup ROS Connection",id:"step-3-setup-ros-connection",level:3},{value:"Step 4: Add Camera Publisher",id:"step-4-add-camera-publisher",level:3},{value:"Step 5: Add Velocity Subscriber",id:"step-5-add-velocity-subscriber",level:3},{value:"High-Fidelity Environments",id:"high-fidelity-environments",level:2},{value:"Lighting",id:"lighting",level:3},{value:"Materials",id:"materials",level:3},{value:"Environments",id:"environments",level:3},{value:"Human-Robot Interaction Simulation",id:"human-robot-interaction-simulation",level:2},{value:"Adding Humans",id:"adding-humans",level:3},{value:"Simulating Social Scenarios",id:"simulating-social-scenarios",level:3},{value:"VR/AR Integration",id:"vrar-integration",level:2},{value:"VR Setup (Optional)",id:"vr-setup-optional",level:3},{value:"Performance Optimization",id:"performance-optimization",level:2},{value:"Reduce Draw Calls",id:"reduce-draw-calls",level:3},{value:"Optimize Physics",id:"optimize-physics",level:3},{value:"Culling",id:"culling",level:3},{value:"Unity + Gazebo Hybrid",id:"unity--gazebo-hybrid",level:2},{value:"Testing Integration",id:"testing-integration",level:2},{value:"Test 1: Camera Stream",id:"test-1-camera-stream",level:3},{value:"Test 2: Robot Control",id:"test-2-robot-control",level:3},{value:"Next Steps",id:"next-steps",level:2},{value:"Lab Exercise",id:"lab-exercise",level:2}];function d(n){const e={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,r.R)(),...n.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(e.header,{children:(0,s.jsx)(e.h1,{id:"unity-for-high-fidelity-rendering",children:"Unity for High-Fidelity Rendering"})}),"\n",(0,s.jsx)(e.h2,{id:"introduction-to-unity-robotics",children:"Introduction to Unity Robotics"}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Unity"})," is a game engine that excels at:"]}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Beautiful graphics"}),": Real-time rendering, lighting, materials"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Human-robot interaction"}),": Simulate humans, social scenarios"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"VR/AR support"}),": Immersive experiences"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Asset ecosystem"}),": Massive library of 3D models, environments"]}),"\n"]}),"\n",(0,s.jsx)(e.h3,{id:"unity-vs-gazebo-vs-isaac-sim",children:"Unity vs. Gazebo vs. Isaac Sim"}),"\n",(0,s.jsxs)(e.table,{children:[(0,s.jsx)(e.thead,{children:(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.th,{children:"Feature"}),(0,s.jsx)(e.th,{children:"Gazebo"}),(0,s.jsx)(e.th,{children:"Unity"}),(0,s.jsx)(e.th,{children:"Isaac Sim"})]})}),(0,s.jsxs)(e.tbody,{children:[(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.strong,{children:"Graphics Quality"})}),(0,s.jsx)(e.td,{children:"Basic"}),(0,s.jsx)(e.td,{children:"Excellent"}),(0,s.jsx)(e.td,{children:"Photorealistic"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.strong,{children:"Physics Accuracy"})}),(0,s.jsx)(e.td,{children:"Good"}),(0,s.jsx)(e.td,{children:"Moderate"}),(0,s.jsx)(e.td,{children:"Excellent"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.strong,{children:"HRI Simulation"})}),(0,s.jsx)(e.td,{children:"Limited"}),(0,s.jsx)(e.td,{children:"Excellent"}),(0,s.jsx)(e.td,{children:"Good"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.strong,{children:"ROS Integration"})}),(0,s.jsx)(e.td,{children:"Native"}),(0,s.jsx)(e.td,{children:"Via Unity Robotics Hub"}),(0,s.jsx)(e.td,{children:"Native"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.strong,{children:"Learning Curve"})}),(0,s.jsx)(e.td,{children:"Moderate"}),(0,s.jsx)(e.td,{children:"Steep (game engine)"}),(0,s.jsx)(e.td,{children:"Steep"})]}),(0,s.jsxs)(e.tr,{children:[(0,s.jsx)(e.td,{children:(0,s.jsx)(e.strong,{children:"Use Case"})}),(0,s.jsx)(e.td,{children:"Control algorithms"}),(0,s.jsx)(e.td,{children:"Visualization, HRI"}),(0,s.jsx)(e.td,{children:"AI training"})]})]})]}),"\n",(0,s.jsx)(e.h3,{id:"when-to-use-unity",children:"When to Use Unity"}),"\n",(0,s.jsxs)(e.ol,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Visualization"}),": Need beautiful visuals for presentations, demos"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Human-Robot Interaction"}),": Simulate humans interacting with robots"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"VR/AR"}),": Immersive teleoperation or training"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Rapid prototyping"}),": Unity's asset store speeds development"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Cross-platform"}),": Deploy to PC, mobile, web"]}),"\n"]}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Not ideal for"}),": Accurate physics simulation (use Gazebo/Isaac for that)."]}),"\n",(0,s.jsx)(e.h2,{id:"installation",children:"Installation"}),"\n",(0,s.jsx)(e.h3,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"Windows 10/11, macOS, or Linux"}),"\n",(0,s.jsx)(e.li,{children:"8GB RAM minimum, 16GB+ recommended"}),"\n",(0,s.jsx)(e.li,{children:"GPU with DirectX 11/12 support"}),"\n"]}),"\n",(0,s.jsx)(e.h3,{id:"install-unity-hub",children:"Install Unity Hub"}),"\n",(0,s.jsxs)(e.ol,{children:["\n",(0,s.jsxs)(e.li,{children:["Download Unity Hub: ",(0,s.jsx)(e.a,{href:"https://unity.com/download",children:"https://unity.com/download"})]}),"\n",(0,s.jsx)(e.li,{children:"Install Unity Hub"}),"\n",(0,s.jsx)(e.li,{children:"Sign up for Unity account (free Personal license)"}),"\n"]}),"\n",(0,s.jsx)(e.h3,{id:"install-unity-editor",children:"Install Unity Editor"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"# Via Unity Hub:\n# 1. Open Unity Hub\n# 2. Installs \u2192 Add\n# 3. Select Unity 2022.3 LTS (Long-Term Support)\n# 4. Add Modules: Linux Build Support (for ROS 2)\n"})}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Recommended version"}),": Unity 2022.3 LTS (stable, good ROS support)."]}),"\n",(0,s.jsx)(e.h2,{id:"unity-robotics-hub",children:"Unity Robotics Hub"}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Unity Robotics Hub"})," provides ROS integration:"]}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"ROS-TCP-Connector: Bridge Unity \u2194 ROS 2"}),"\n",(0,s.jsx)(e.li,{children:"URDF Importer: Import robot models"}),"\n",(0,s.jsx)(e.li,{children:"Sensor simulation: Publish to ROS topics"}),"\n"]}),"\n",(0,s.jsx)(e.h3,{id:"installation-1",children:"Installation"}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"In Unity"}),":"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:"Window \u2192 Package Manager \u2192 Add package from git URL\nhttps://github.com/Unity-Technologies/ROS-TCP-Connector.git?path=/com.unity.robotics.ros-tcp-connector\n"})}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"On Linux (ROS 2 side)"}),":"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"# Install ROS-TCP-Endpoint\ncd ~/ros2_ws/src\ngit clone https://github.com/Unity-Technologies/ROS-TCP-Endpoint.git\ncd ~/ros2_ws\ncolcon build\nsource install/setup.bash\n\n# Run endpoint\nros2 run ros_tcp_endpoint default_server_endpoint\n# Listening on port 10000\n"})}),"\n",(0,s.jsx)(e.h2,{id:"creating-a-robot-simulation",children:"Creating a Robot Simulation"}),"\n",(0,s.jsx)(e.h3,{id:"step-1-create-new-project",children:"Step 1: Create New Project"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:"Unity Hub \u2192 New Project \u2192 3D (URP - Universal Render Pipeline)\nName: HumanoidRobotSim\nLocation: /path/to/projects\nCreate\n"})}),"\n",(0,s.jsx)(e.h3,{id:"step-2-import-urdf",children:"Step 2: Import URDF"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Method 1: URDF Importer (Unity Package)"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:"1. Download URDF Importer from Unity Asset Store\n2. Assets \u2192 Import URDF \u2192 Select your robot.urdf\n3. Wait for import (creates GameObject hierarchy)\n"})}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Method 2: Manual Import"})}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:"1. Export robot meshes from URDF (STL, OBJ, FBX)\n2. Import meshes to Unity (Assets \u2192 Import New Asset)\n3. Manually recreate joint hierarchy\n4. Add ArticulationBody components (Unity's physics joints)\n"})}),"\n",(0,s.jsx)(e.h3,{id:"step-3-setup-ros-connection",children:"Step 3: Setup ROS Connection"}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Create ROSConnectionManager"}),":"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-csharp",children:"// Assets/Scripts/ROSConnection.cs\nusing UnityEngine;\nusing Unity.Robotics.ROSTCPConnector;\n\npublic class ROSConnection : MonoBehaviour\n{\n    void Start()\n    {\n        // Connect to ROS-TCP-Endpoint\n        ROSConnection.GetOrCreateInstance().Connect();\n    }\n}\n"})}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Attach to GameObject"}),": Create empty GameObject, attach script."]}),"\n",(0,s.jsx)(e.h3,{id:"step-4-add-camera-publisher",children:"Step 4: Add Camera Publisher"}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Publish camera images to ROS"}),":"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-csharp",children:'// Assets/Scripts/CameraPublisher.cs\nusing UnityEngine;\nusing Unity.Robotics.ROSTCPConnector;\nusing RosMessageTypes.Sensor;\n\npublic class CameraPublisher : MonoBehaviour\n{\n    ROSConnection ros;\n    public string topicName = "/camera/image_raw";\n    public float publishRate = 10f; // Hz\n\n    private float timer;\n    private Camera cam;\n\n    void Start()\n    {\n        ros = ROSConnection.GetOrCreateInstance();\n        ros.RegisterPublisher<ImageMsg>(topicName);\n        cam = GetComponent<Camera>();\n    }\n\n    void Update()\n    {\n        timer += Time.deltaTime;\n        if (timer >= 1f / publishRate)\n        {\n            timer = 0;\n            PublishImage();\n        }\n    }\n\n    void PublishImage()\n    {\n        // Capture camera render\n        RenderTexture rt = cam.targetTexture;\n        RenderTexture.active = rt;\n\n        Texture2D image = new Texture2D(rt.width, rt.height, TextureFormat.RGB24, false);\n        image.ReadPixels(new Rect(0, 0, rt.width, rt.height), 0, 0);\n        image.Apply();\n\n        // Convert to ROS message\n        ImageMsg msg = new ImageMsg\n        {\n            height = (uint)rt.height,\n            width = (uint)rt.width,\n            encoding = "rgb8",\n            step = (uint)(rt.width * 3),\n            data = image.GetRawTextureData()\n        };\n\n        ros.Publish(topicName, msg);\n    }\n}\n'})}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Attach to Camera"}),": Select camera, add component."]}),"\n",(0,s.jsx)(e.h3,{id:"step-5-add-velocity-subscriber",children:"Step 5: Add Velocity Subscriber"}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Subscribe to /cmd_vel"}),":"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-csharp",children:'// Assets/Scripts/RobotController.cs\nusing UnityEngine;\nusing Unity.Robotics.ROSTCPConnector;\nusing RosMessageTypes.Geometry;\n\npublic class RobotController : MonoBehaviour\n{\n    ROSConnection ros;\n    public string topicName = "/cmd_vel";\n\n    private Vector3 linearVelocity;\n    private Vector3 angularVelocity;\n\n    void Start()\n    {\n        ros = ROSConnection.GetOrCreateInstance();\n        ros.Subscribe<TwistMsg>(topicName, UpdateVelocity);\n    }\n\n    void UpdateVelocity(TwistMsg msg)\n    {\n        linearVelocity = new Vector3(\n            (float)msg.linear.x,\n            (float)msg.linear.y,\n            (float)msg.linear.z\n        );\n\n        angularVelocity = new Vector3(\n            (float)msg.angular.x,\n            (float)msg.angular.y,\n            (float)msg.angular.z\n        );\n    }\n\n    void FixedUpdate()\n    {\n        // Apply velocity to robot\n        Rigidbody rb = GetComponent<Rigidbody>();\n        rb.velocity = transform.TransformDirection(linearVelocity);\n        rb.angularVelocity = transform.TransformDirection(angularVelocity);\n    }\n}\n'})}),"\n",(0,s.jsx)(e.h2,{id:"high-fidelity-environments",children:"High-Fidelity Environments"}),"\n",(0,s.jsx)(e.h3,{id:"lighting",children:"Lighting"}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Realistic lighting"})," for visual perception:"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:"Window \u2192 Rendering \u2192 Lighting\n- Environment Lighting: Skybox\n- Realtime Global Illumination: ON\n- Baked Global Illumination: ON (for static objects)\n"})}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Add lights"}),":"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:"GameObject \u2192 Light \u2192 Directional Light (Sun)\nIntensity: 1.0\nShadows: Soft Shadows\n"})}),"\n",(0,s.jsx)(e.h3,{id:"materials",children:"Materials"}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Physically Based Rendering (PBR)"}),":"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-csharp",children:'// Create material\nMaterial mat = new Material(Shader.Find("Universal Render Pipeline/Lit"));\nmat.SetColor("_BaseColor", Color.red);\nmat.SetFloat("_Metallic", 0.5f);\nmat.SetFloat("_Smoothness", 0.8f);\n'})}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Asset Store"}),": Download free materials:"]}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:'"Free PBR Materials"'}),"\n",(0,s.jsx)(e.li,{children:'"AllSky Free - 10 Sky/Environment Pack"'}),"\n"]}),"\n",(0,s.jsx)(e.h3,{id:"environments",children:"Environments"}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Pre-built environments"}),":"]}),"\n",(0,s.jsxs)(e.ol,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Asset Store"}),': Search "environment", "warehouse", "office"']}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Import"}),": Assets \u2192 Import Package"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Place robot"}),": Drag scene into Hierarchy"]}),"\n"]}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Example environments"}),":"]}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:'"Office Environment" (free)'}),"\n",(0,s.jsx)(e.li,{children:'"Warehouse Pack" (free)'}),"\n",(0,s.jsx)(e.li,{children:'"Apartment Kit" ($20)'}),"\n"]}),"\n",(0,s.jsx)(e.h2,{id:"human-robot-interaction-simulation",children:"Human-Robot Interaction Simulation"}),"\n",(0,s.jsx)(e.h3,{id:"adding-humans",children:"Adding Humans"}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Method 1: Unity Asset Store"})}),"\n",(0,s.jsx)(e.p,{children:'Search: "Human", "Character", "Person"'}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:'"Simple Character Pack" (free)'}),"\n",(0,s.jsx)(e.li,{children:'"Starter Assets - Third Person Character Controller" (free)'}),"\n"]}),"\n",(0,s.jsx)(e.p,{children:(0,s.jsx)(e.strong,{children:"Method 2: Mixamo (Free)"})}),"\n",(0,s.jsxs)(e.ol,{children:["\n",(0,s.jsx)(e.li,{children:"Go to mixamo.com"}),"\n",(0,s.jsx)(e.li,{children:"Select character, download FBX"}),"\n",(0,s.jsx)(e.li,{children:"Import to Unity"}),"\n",(0,s.jsx)(e.li,{children:"Add animations (walking, waving, etc.)"}),"\n"]}),"\n",(0,s.jsx)(e.h3,{id:"simulating-social-scenarios",children:"Simulating Social Scenarios"}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Example: Robot approaches person"}),":"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-csharp",children:'// Assets/Scripts/HumanSimulator.cs\nusing UnityEngine;\n\npublic class HumanSimulator : MonoBehaviour\n{\n    public Transform robot;\n    public float detectionRange = 5f;\n\n    void Update()\n    {\n        float distance = Vector3.Distance(transform.position, robot.position);\n\n        if (distance < detectionRange)\n        {\n            // Human looks at robot\n            transform.LookAt(robot);\n\n            // Wave animation (if available)\n            Animator animator = GetComponent<Animator>();\n            if (animator != null)\n            {\n                animator.SetTrigger("Wave");\n            }\n        }\n    }\n}\n'})}),"\n",(0,s.jsx)(e.h2,{id:"vrar-integration",children:"VR/AR Integration"}),"\n",(0,s.jsx)(e.h3,{id:"vr-setup-optional",children:"VR Setup (Optional)"}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"For immersive teleoperation"}),":"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:"Window \u2192 Package Manager \u2192 XR Plugin Management\nInstall \u2192 Oculus XR Plugin (for Meta Quest)\n"})}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Add VR camera rig"}),":"]}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:"GameObject \u2192 XR \u2192 XR Origin (VR)\n"})}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Control robot with VR controllers"}),": Map button presses to /cmd_vel."]}),"\n",(0,s.jsx)(e.h2,{id:"performance-optimization",children:"Performance Optimization"}),"\n",(0,s.jsx)(e.h3,{id:"reduce-draw-calls",children:"Reduce Draw Calls"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:"- Use static batching for non-moving objects\n- Combine meshes where possible\n- Use LOD (Level of Detail) for distant objects\n"})}),"\n",(0,s.jsx)(e.h3,{id:"optimize-physics",children:"Optimize Physics"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-csharp",children:"// Reduce physics update rate if needed\nTime.fixedDeltaTime = 0.02f; // 50 Hz (default is 0.02)\n"})}),"\n",(0,s.jsx)(e.h3,{id:"culling",children:"Culling"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{children:"- Frustum culling (automatic)\n- Occlusion culling (bake in Lighting settings)\n- Disable shadows for distant objects\n"})}),"\n",(0,s.jsx)(e.h2,{id:"unity--gazebo-hybrid",children:"Unity + Gazebo Hybrid"}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Best of both worlds"}),": Use Unity for visualization, Gazebo for physics."]}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Workflow"}),":"]}),"\n",(0,s.jsxs)(e.ol,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Gazebo"}),": Run physics simulation"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"ROS 2 Bridge"}),": Publish robot state (/joint_states, /tf)"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Unity"}),": Subscribe to robot state, render visuals"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"User"}),": Sees beautiful Unity visuals, accurate Gazebo physics"]}),"\n"]}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Why"}),": Unity's rendering + Gazebo's physics accuracy."]}),"\n",(0,s.jsx)(e.h2,{id:"testing-integration",children:"Testing Integration"}),"\n",(0,s.jsx)(e.h3,{id:"test-1-camera-stream",children:"Test 1: Camera Stream"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:"# Terminal 1: ROS-TCP-Endpoint\nros2 run ros_tcp_endpoint default_server_endpoint\n\n# Terminal 2: View images\nros2 run rqt_image_view rqt_image_view\n\n# Unity: Play scene, select /camera/image_raw\n"})}),"\n",(0,s.jsx)(e.h3,{id:"test-2-robot-control",children:"Test 2: Robot Control"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-bash",children:'# Terminal 1: ROS-TCP-Endpoint\nros2 run ros_tcp_endpoint default_server_endpoint\n\n# Terminal 2: Publish velocity\nros2 topic pub /cmd_vel geometry_msgs/Twist "{linear: {x: 1.0}, angular: {z: 0.5}}"\n\n# Unity: Play scene, robot should move\n'})}),"\n",(0,s.jsx)(e.h2,{id:"next-steps",children:"Next Steps"}),"\n",(0,s.jsx)(e.p,{children:"You've learned Unity for robot visualization. Next, explore simulating diverse sensors."}),"\n",(0,s.jsxs)(e.p,{children:["\ud83d\udc49 ",(0,s.jsx)(e.strong,{children:(0,s.jsx)(e.a,{href:"sensor-simulation",children:"Next: Sensor Simulation \u2192"})})]}),"\n",(0,s.jsx)(e.hr,{}),"\n",(0,s.jsx)(e.admonition,{title:"Unity Tips",type:"tip",children:(0,s.jsxs)(e.ol,{children:["\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Start simple"}),": Blank scene \u2192 ground \u2192 robot \u2192 add complexity"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Use Asset Store"}),": Don't build everything from scratch"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Profile performance"}),": Window \u2192 Analysis \u2192 Profiler"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Learn C# basics"}),": Unity uses C# for scripting"]}),"\n",(0,s.jsxs)(e.li,{children:[(0,s.jsx)(e.strong,{children:"Separate concerns"}),": Unity for visuals, Gazebo/Isaac for physics"]}),"\n"]})}),"\n",(0,s.jsx)(e.h2,{id:"lab-exercise",children:"Lab Exercise"}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Create a visually realistic robot demo"}),":"]}),"\n",(0,s.jsxs)(e.ol,{children:["\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Setup Unity project"}),":"]}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"Import humanoid URDF"}),"\n",(0,s.jsx)(e.li,{children:"Add realistic materials"}),"\n",(0,s.jsx)(e.li,{children:"Import warehouse environment"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Add ROS integration"}),":"]}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"Camera publisher (/camera/image_raw)"}),"\n",(0,s.jsx)(e.li,{children:"Velocity subscriber (/cmd_vel)"}),"\n",(0,s.jsx)(e.li,{children:"Joint state subscriber (/joint_states)"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Add humans"}),":"]}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"Import 2-3 human characters"}),"\n",(0,s.jsx)(e.li,{children:"Add walking animations"}),"\n",(0,s.jsx)(e.li,{children:"Simulate social interaction (humans wave when robot approaches)"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.li,{children:["\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Test"}),":"]}),"\n",(0,s.jsxs)(e.ul,{children:["\n",(0,s.jsx)(e.li,{children:"Control robot from ROS 2"}),"\n",(0,s.jsx)(e.li,{children:"View camera stream in RViz"}),"\n",(0,s.jsx)(e.li,{children:"Record demo video"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(e.p,{children:[(0,s.jsx)(e.strong,{children:"Bonus"}),": Add VR teleoperation."]})]})}function h(n={}){const{wrapper:e}={...(0,r.R)(),...n.components};return e?(0,s.jsx)(e,{...n,children:(0,s.jsx)(d,{...n})}):d(n)}},8453:(n,e,i)=>{i.d(e,{R:()=>l,x:()=>o});var t=i(6540);const s={},r=t.createContext(s);function l(n){const e=t.useContext(r);return t.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function o(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(s):n.components||s:l(n.components),t.createElement(r.Provider,{value:e},n.children)}}}]);